<ngx-altea-form-card-section *ngIf="parent" [sectionName]="'ui.resource.edit.sections.planning.title'"
    sectionId="planning" [editSectionId]="parent.editSectionId" icon="fa-duotone fa-clock" [showBody]="false"
    (save)="savePlanningChanges()" (cancel)="cancel()" (editModeChanged)="editModeChanged($event)">


    <ng-container outside-body>


        <ul class="list-group list-group-flush">
            <li class="list-group-item" *ngIf="!plannings || plannings.length === 0">

            </li>
            <li class="list-group-item" *ngFor="let planning of plannings; let idx = index">
                <div class="row">
                    <div class="col-3"><span translate>enums.planning-type.{{planning.type}}</span></div>
                    <div class="col-3">{{planning.startDate | date:"dd/MM/yyyy HH:mm"}}</div>
                    <div class="col-3">{{planning.endDate | date:"dd/MM/yyyy HH:mm"}}</div>
                    <div class="col-3" *ngIf="parent.sectionInEditIs(thisSection)">
                        <i class="fas fa-trash float-end" (click)="delete(planning)"></i>
                    </div>
                </div>


            </li>

            <!-- (click)="startAdd()" -->
            <li *ngIf="parent.editSectionId === thisSection && mode === ListSectionMode.readOnly"
                class="list-group-item" style="text-align: center; cursor: pointer;" >
                <i class="fa-duotone fa-circle-plus fa-xl"></i> &nbsp; {{ 'ui.resource.edit.sections.planning.add-btn' |
                translate }}
            </li>

            <!--  *ngIf="mode === 'createNew'"    [(ngModel)]="objNew.type" -->

            <li class="list-group-item" *ngIf="parent.sectionInEditIs(thisSection)">


                <div class="row">
                    <div class="col-3">

                        <ng-select id="type" name="type" [items]="planningTypes" bindLabel="trans" bindValue="key"
                            [clearable]="false" [multiple]="false" [(ngModel)]="objNew.type"></ng-select>

                    </div>
                    <div class="col-3">

                        <div class="row">
                            <div class="col"><input type="text" placeholder="Datepicker" class="form-control"
                                    bsDatepicker [(ngModel)]="start"></div>
                        </div>
                        <div class="row mt-1">
                            <div class="col"><time-picker class="mt-3" [(time)]="start"></time-picker></div>
                        </div>

                        <!-- 
                            [bsValue]  (bsValueChange)="startChanged($event)"

                        <input type="text" placeholder="Datepicker" class="form-control" bsDatepicker [bsValue]="start">

                        <time-picker class="mt-3" [(time)]="startTime"></time-picker> -->

                    </div>
                    <div class="col-3">

                        <div class="row">
                            <div class="col">
                                <input type="text" placeholder="Datepicker" class="form-control" bsDatepicker
                                    [(ngModel)]="end" >  <!-- (bsValueChange)="endChanged($event)" -->
                            </div>
                        </div>
                        <div class="row mt-1">
                            <div class="col">
                                <time-picker [(time)]="end"></time-picker>
                            </div>
                        </div>





                    </div>
                    <div class="col-3">
                        <button type="button" class="btn btn-primary btn-sm  float-end" (click)="addPlanning()"
                            translate>dic.add</button>

                    </div>
                </div>



            </li>

        </ul>

    </ng-container>



</ngx-altea-form-card-section>