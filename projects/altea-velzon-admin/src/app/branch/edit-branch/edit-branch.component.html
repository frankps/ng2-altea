




<ng-container *ngIf="object">

    <ng-template #reminders>

        <div *ngIf="object.hasReminders()" class="mt-3"> 

            <div class="row mb-2">
                <div class="col-2" translate>dic.msgType</div>
                <div class="col-2" translate>objects.reminder.dur</div>
            </div>

            <div class="row" *ngFor="let reminder of object.reminders; let idx = index">
                <div class="col-2">{{'enums.msg-type.' + reminder.type | translate}}</div>
                <div class="col-2">{{reminder.dur}} {{reminder.unit}}
                    <i *ngIf="sectionInEditIs('reminders')" class="fas fa-trash float-end" (click)="deleteReminder(idx)"></i>
                </div>

                <div class="col-3">
                    
                    
<!-- 
                    <button type="button" class="btn btn-primary btn-sm" (click)="deleteReminder(idx)"
                        translate>dic.delete</button> -->
                </div>
            </div>



        </div>

    </ng-template>



    <ngx-altea-form-card-section sectionName="ui.branch.edit.sections.reminders.title" sectionId="reminders"
        [editSectionId]="editSectionId" (save)="save()" (cancel)="cancel()" (editModeChanged)="editModeChanged($event)"
        [enableSave]="!remindersForm?.form.pristine && remindersForm?.form.valid"
        help="ui.branch.edit.sections.reminders.help">

        <ng-container readonly>

            <ng-container *ngTemplateOutlet="reminders"></ng-container>
         
        </ng-container>

        <ng-container edit>

            <form #remindersForm="ngForm">

                <ng-container *ngTemplateOutlet="reminders"></ng-container>

                <div class="row mt-3">
                    <div class="col-2">
    
                        <ngx-altea-label-control label="dic.msgType" [trans]="true" for="msgType">
                            <ng-select id="msgType" name="msgType" [items]="msgTypes" bindLabel="trans" bindValue="key"
                                [clearable]="false" [multiple]="false" [(ngModel)]="newReminder.type">
                            </ng-select>
                        </ngx-altea-label-control>
    
    
                    </div>
                    <div class="col-1">
                        <ngx-altea-label-control label="dic.duration" for="next-day">
                            <input type="number" id="next-day" name="next-day" class="form-control"
                                [(ngModel)]="newReminder.dur" />
                        </ngx-altea-label-control>
    
                    </div>
                    <div class="col-2">
    
                        <ngx-altea-label-control label="dic.timeUnit" [trans]="true" for="timeUnit">
                            <ng-select id="timeUnit" name="timeUnit" [items]="timeUnits" bindLabel="trans" bindValue="key"
                                [clearable]="false" [multiple]="false" [(ngModel)]="newReminder.unit">
                            </ng-select>
                        </ngx-altea-label-control>
    
                    </div>
                    <div class="col-3">

                        

                        <button type="button" class="btn btn-primary" (click)="addReminder()"
                            translate>dic.add</button>
                    </div>
                </div>




            </form>

        </ng-container>


    </ngx-altea-form-card-section>



    <ngx-altea-form-card-section sectionName="ui.branch.edit.sections.deposit.title" sectionId="deposit"
    [editSectionId]="editSectionId" (save)="save()" (cancel)="cancel()" (editModeChanged)="editModeChanged($event)"
    help="ui.branch.edit.sections.deposit.help"
    [enableSave]="!depositForm?.form.pristine && depositForm?.form.valid">

    <ng-container readonly>

        

        <ng-container *ngIf="object.depositPct; else noDepositReadonly">

            <div class="row">
                <div class="col-6"><ngx-altea-label-value label="ui.deposit.request"
                        [value]="'' + Math.round(object.depositPct * 100)" unit="%"></ngx-altea-label-value></div>
    
            </div>
    
            <div class="row mt-3">
                <div class="col">
                    {{ 'ui.deposit.terms.info' | translate }}
                </div>
            </div>
    
            <ul>
                <li *ngIf="object.sameDayTerm">{{'ui.deposit.terms.same-day' | translate}}: {{object.sameDayTerm}} {{'dic.hour' | translate}}</li>
                <li *ngIf="object.nextDayTerm">{{'ui.deposit.terms.next-day' | translate}}: {{object.nextDayTerm}} {{'dic.hour' | translate}}</li>
                <li *ngIf="object.nextWeekTerm">{{'ui.deposit.terms.next-week' | translate}}: {{object.nextWeekTerm}} {{'dic.hour' | translate}}</li>
                <li *ngIf="object.nextMonthTerm">{{'ui.deposit.terms.next-month' | translate}}: {{object.nextMonthTerm}} {{'dic.hour' | translate}}</li>
            </ul>

        </ng-container>


        <ng-template #noDepositReadonly>

            <span translate>ui.deposit.none</span>
            


        </ng-template>
    
    




    </ng-container>

    <ng-container edit>

        

        <form #depositForm="ngForm">


            <div class="row">
                <div class="col-3">

                    <ngx-altea-label-control label="ui.deposit.request" for="depositPct">
                        <ng-select id="depositPct" name="depositPct" [items]="depositPctgs" bindLabel="label"
                            bindValue="pct" [clearable]="false" [multiple]="false" [(ngModel)]="object.depositPct">
                        </ng-select>
                    </ngx-altea-label-control>


                </div>
                <div class="col-3"></div>
                <div class="col-3"></div>
            </div>


            <ng-container *ngIf="object.depositPct">

                <div class="row mt-3">
                    <div class="col">
                        {{ 'ui.deposit.terms.info' | translate }}
                    </div>
                </div>
    
                <div class="row mt-1">
                    <div class="col-3">
    
                        <ngx-altea-label-control label="ui.deposit.terms.same-day" for="same-day">
                            <input type="number" id="same-day" name="same-day" class="form-control"
                                [(ngModel)]="object.sameDayTerm" (change)="markAsDirty()" />
                        </ngx-altea-label-control>
    
                    </div>
                    <div class="col-3">
    
                        <ngx-altea-label-control label="ui.deposit.terms.next-day" for="next-day">
                            <input type="number" id="next-day" name="next-day" class="form-control"
                                [(ngModel)]="object.nextDayTerm" />
                        </ngx-altea-label-control>
    
                    </div>
                    <div class="col-3">
    
                        <ngx-altea-label-control label="ui.deposit.terms.next-week" for="next-week">
                            <input type="number" id="next-week" name="next-week" class="form-control"
                                [(ngModel)]="object.nextWeekTerm" />
                        </ngx-altea-label-control>
    
                    </div>
                    <div class="col-3">
    
                        <ngx-altea-label-control label="ui.deposit.terms.next-month" for="next-month">
                            <input type="number" id="next-month" name="next-month" class="form-control"
                                [(ngModel)]="object.nextMonthTerm" />
                        </ngx-altea-label-control>
    
                    </div>
                </div>

                <div class="row">
                    <div class="col help">
                        Stel hierboven in hoeveel uur uw klanten de tijd hebben om hun voorschot te betalen afhankelijk van het tijdstip van reserveren.
                    </div>
                </div>

            </ng-container>






        </form>

    </ng-container>


</ngx-altea-form-card-section>





</ng-container>